<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Alternative Method Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>Testing Alternative Method</h1>
    <div id="results"></div>
    
    <!-- Basic DOM elements -->
    <div style="display: none;">
        <div id="room-info"></div>
        <div id="question-area"></div>
        <div id="score-display"></div>
        <div id="game-controls">
            <button id="new-question-btn">New</button>
            <button id="hint-btn">Hint</button>
            <button id="skip-btn">Skip</button>
        </div>
    </div>

    <script src="src/dataLoader.js"></script>
    <script src="src/gameState.js"></script>
    <script src="src/quizEngine.js"></script>
    <script src="src/uiManager.js"></script>
    
    <script>
        let results = document.getElementById('results');
        
        function addResult(message, success = true) {
            const div = document.createElement('div');
            div.className = `test ${success ? 'success' : 'error'}`;
            div.textContent = message;
            results.appendChild(div);
        }
        
        try {
            // Create UIManager
            const dataLoader = new DataLoader();
            const gameState = new GameState(dataLoader);
            const quizEngine = new QuizEngine(dataLoader, gameState);
            const uiManager = new UIManager(dataLoader, gameState, quizEngine);
            
            addResult('✓ UIManager created successfully');
            
            // Test both methods
            addResult('isQuestionActive type: ' + typeof uiManager.isQuestionActive);
            addResult('checkQuestionActive type: ' + typeof uiManager.checkQuestionActive);
            
            if (typeof uiManager.checkQuestionActive === 'function') {
                const result = uiManager.checkQuestionActive();
                addResult('✓ checkQuestionActive() works: ' + result);
            }
            
            // Test keyboard input
            const fakeEvent = {
                key: 'ArrowUp',
                preventDefault: () => {},
                ctrlKey: false,
                altKey: false
            };
            
            try {
                uiManager.handleKeyboardInput(fakeEvent);
                addResult('✓ Keyboard input works without error!');
            } catch (error) {
                addResult('✗ Keyboard error: ' + error.message, false);
            }
            
        } catch (error) {
            addResult('✗ Test failed: ' + error.message, false);
        }
    </script>
</body>
</html>